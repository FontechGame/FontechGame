(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=c.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},4768:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tetris",function(){return n(2673)}])},2673:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(5893),c=n(7294),o=n(4184),i=n.n(o),a=n(5590),s=function(e){var t=e.containerClassName,n=e.blockClassName,c=e.blockKey,o=void 0===c?"tetris-item":c,s=e.count,l=void 0===s?800:s,u=e.activeBlockIndexes,f=void 0===u?Array():u;return(0,r.jsx)("div",{className:i()("flex","flex-row","flex-wrap","w-[280px]","h-[560px]","m-2",t),children:Array(l).fill(0).map((function(e,t){return(0,r.jsx)("div",{className:i()("".concat(o,"-").concat(t+1),"w-[14px]","h-[14px]",n),children:(0,r.jsx)("div",{className:i()("inline-block","w-full","h-full","m-px","border","border-transparent","bg-transparent",(0,a.gR)({index:t+1,activeBlockIndexes:f})&&["border-white","bg-black"])})},"".concat(o,"-").concat(t+1))}))})},l=n(9903),u=n(7492),f=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return{count:e.tetrisManagerState.count,activeBlockIndexes:e.tetrisManagerState.activeBlockIndexes}}),l.wU),n=t.count,r=t.activeBlockIndexes,o=c.useCallback((function(){if(!r.find((function(e){return e+20>=n})))return r.map((function(e){return e+20}))}),[r,n]);return{doUpdateActiveBlockIndexes:function(t){e(function(e){return{type:u.r.UPDATE_ACTIVEBLOCKS,activeBlockIndexes:e}}(t))},doclearTetris:function(){e({type:u.r.CLEAR})},count:n,activeBlockIndexes:r,dropDownActiveBlockIndexes:o}};function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(){var e=f(),t=e.doUpdateActiveBlockIndexes,n=e.doclearTetris,o=e.count,i=e.activeBlockIndexes,a=e.dropDownActiveBlockIndexes;return c.useEffect((function(){n(),t(d([101,102,103,104]).concat(d([202,221,222,223]),d([321,341,342,343]),d([441,442,461,462]),d([561,562,582,583])))}),[]),c.useEffect((function(){if(0!==i.length){var e=a();e&&setTimeout((function(){return t(e)}),1e3)}}),[o,i,t,a]),(0,r.jsx)("div",{className:"pt-[64px]",children:(0,r.jsxs)("div",{className:"relative flex mt-4",children:[(0,r.jsx)("div",{className:"absolute inset top-[64px] bottom-0 left-0 right-0 border-x border-b border-[cyan]"}),(0,r.jsx)(s,{count:o,activeBlockIndexes:i})]})})},v=function(){return(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex flex-col w-[300px]",children:[(0,r.jsx)("div",{className:"text-white",children:"Tetris"}),(0,r.jsx)(p,{})]})})}}},function(e){e.O(0,[774,888,179],(function(){return t=4768,e(e.s=t);var t}));var t=e.O();_N_E=t}]);