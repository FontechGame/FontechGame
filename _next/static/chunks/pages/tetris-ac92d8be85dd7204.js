(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{4184:function(e,r){var n;!function(){"use strict";var t={}.hasOwnProperty;function o(){for(var e=[],r=0;r<arguments.length;r++){var n=arguments[r];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===c)if(n.toString===Object.prototype.toString)for(var a in n)t.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(r,[]))||(e.exports=n)}()},4768:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tetris",function(){return n(2673)}])},2673:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return v}});var t=n(5893),o=n(7294),c=n(4184),i=n.n(c),a=n(5590),u=function(e){var r=e.containerClassName,n=e.blockClassName,o=e.blockKey,c=void 0===o?"tetris-item":o,u=e.count,s=void 0===u?800:u,l=e.activeBlockIndexes,f=void 0===l?Array():l;return(0,t.jsx)("div",{className:i()("flex","flex-row","flex-wrap","w-[280px]","h-[560px]","m-2",r),children:Array(s).fill(0).map((function(e,r){return(0,t.jsx)("div",{className:i()("".concat(c,"-").concat(r+1),"w-[14px]","h-[14px]",n),children:(0,t.jsx)("div",{className:i()("inline-block","w-full","h-full","m-px","border","border-transparent","bg-transparent",(0,a.gR)({index:r+1,activeBlockIndexes:f})&&["border-white","bg-black"])})},"".concat(c,"-").concat(r+1))}))})},s=n(9903),l=n(7492),f=function(){var e=(0,s.I0)(),r=(0,s.v9)((function(e){return{count:e.tetrisManagerState.count,reminderBlockIndexes:e.tetrisManagerState.reminderBlockIndexes,currentBlockIndexes:e.tetrisManagerState.currentBlockIndexes}}),s.wU),n=r.count,t=r.reminderBlockIndexes,c=r.currentBlockIndexes,i=o.useMemo((function(){return(0,a.e)({currentArray:t,targetArray:c})}),[t,c]),u=o.useCallback((function(){if(!c.find((function(e){return e+20>=n}))&&!c.find((function(e){return t.find((function(r){return e+20==r}))})))return c.map((function(e){return e+20}))}),[c,t,n]);return{currentBlockIndexes:c,doUpdateCurrentBlock:function(r){e(function(e){return{type:l.r.UPDATE_CURRENT,currentBlockIndexes:e}}(r))},doUpdateReminderBlock:function(r){e(function(e){return{type:l.r.UPDATE_REMINDER,reminderBlockIndexes:e}}(r))},doclearTetris:function(){e({type:l.r.CLEAR})},count:n,activeBlockIndexes:i,dropDownCurrentBlock:u}};function d(e){return function(e){if(Array.isArray(e)){for(var r=0,n=new Array(e.length);r<e.length;r++)n[r]=e[r];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=[[101,102,103,104],[102,121,122,123],[101,121,122,123],[101,102,121,122],[101,102,122,123]],x=function(){var e=f(),r=e.currentBlockIndexes,n=e.doUpdateCurrentBlock,c=e.doUpdateReminderBlock,i=e.doclearTetris,a=e.count,s=e.activeBlockIndexes,l=e.dropDownCurrentBlock;return o.useEffect((function(){i();var e=p.pop();e&&n(d(e))}),[]),o.useEffect((function(){if(0!==s.length){var e=l();if(e)setTimeout((function(){return n(e)}),10);else{c(r);var t=p.pop();t&&n(d(t))}}}),[a,r,s,n,c,l]),(0,t.jsx)("div",{className:"pt-[64px]",children:(0,t.jsxs)("div",{className:"relative flex mt-4",children:[(0,t.jsx)("div",{className:"absolute inset top-[64px] bottom-0 left-0 right-0 border-x border-b border-[cyan]"}),(0,t.jsx)(u,{count:a,activeBlockIndexes:s})]})})},v=function(){return(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col w-[300px]",children:[(0,t.jsx)("div",{className:"text-white",children:"Tetris"}),(0,t.jsx)(x,{})]})})}}},function(e){e.O(0,[774,888,179],(function(){return r=4768,e(e.s=r);var r}));var r=e.O();_N_E=r}]);