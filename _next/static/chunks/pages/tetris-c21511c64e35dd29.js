(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{4184:function(e,n){var r;!function(){"use strict";var t={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===c)if(r.toString===Object.prototype.toString)for(var u in r)t.call(r,u)&&r[u]&&e.push(u);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(n,[]))||(e.exports=r)}()},4768:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tetris",function(){return r(7590)}])},1242:function(e,n,r){"use strict";var t=r(5893),o=(r(7294),r(4184)),c=r.n(o);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},c=Object.keys(e);for(t=0;t<c.length;t++)r=c[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)r=c[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}n.Z=function(e){var n=e.children,r=e.className,o=u(e,["children","className"]);return(0,t.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}({className:c()(r,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline")},o,{children:n}))}},7590:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return C}});var t=r(5893),o=r(7294),c=r(4184),i=r.n(c),u=r(5590),s=function(e){var n=e.containerClassName,r=e.blockClassName,o=e.blockKey,c=void 0===o?"tetris-item":o,s=e.count,a=void 0===s?800:s,l=e.activeBlockIndexes,f=void 0===l?Array():l;return(0,t.jsx)("div",{className:i()("flex","flex-row","flex-wrap","w-[280px]","h-[560px]","m-2",n),children:Array(a).fill(0).map((function(e,n){return(0,t.jsx)("div",{className:i()("".concat(c,"-").concat(n+1),"w-[14px]","h-[14px]",r),children:(0,t.jsx)("div",{className:i()("inline-block","w-full","h-full","m-px","border","border-transparent","bg-transparent",(0,u.gR)({index:n+1,activeBlockIndexes:f})&&["border-white","bg-black"])})},"".concat(c,"-").concat(n+1))}))})},a=r(8520),l=r.n(a),f=r(9903),d=r(7492),p=function(e){return{type:d.r.UPDATE_ISLOSE,isLose:e}},v=function(e){return{type:d.r.UPDATE_CURRENT,currentBlockIndexes:e}},x=function(e){return{type:d.r.UPDATE_REMINDER,reminderBlockIndexes:e}};function y(e,n,r,t,o,c,i){try{var u=e[c](i),s=u.value}catch(a){return void r(a)}u.done?n(s):Promise.resolve(s).then(t,o)}function h(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var c=e.apply(n,r);function i(e){y(c,t,o,i,u,"next",e)}function u(e){y(c,t,o,i,u,"throw",e)}i(void 0)}))}}var m=function(){var e=(0,f.I0)();return{doAsyncUpdateIsLose:h(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(p(r));case 2:case"end":return n.stop()}}),n)}))),doAsyncUpdateCurrentBlock:h(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(v(r));case 2:case"end":return n.stop()}}),n)}))),doAsyncUpdateReminderBlock:h(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(x(r));case 2:case"end":return n.stop()}}),n)}))),doAsyncClearTetris:h(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({type:d.r.CLEAR});case 2:case"end":return n.stop()}}),n)})))}},b=function(){var e=(0,f.v9)((function(e){return{isLose:e.tetrisManagerState.isLose,count:e.tetrisManagerState.count,reminderBlockIndexes:e.tetrisManagerState.reminderBlockIndexes,currentBlockIndexes:e.tetrisManagerState.currentBlockIndexes}}),f.wU);return{isLose:e.isLose,count:e.count,reminderBlockIndexes:e.reminderBlockIndexes,currentBlockIndexes:e.currentBlockIndexes}},k=[[1,2,3,4],[2,21,22,23],[1,21,22,23],[1,2,21,22],[1,2,22,23]];function w(e,n,r,t,o,c,i){try{var u=e[c](i),s=u.value}catch(a){return void r(a)}u.done?n(s):Promise.resolve(s).then(t,o)}function A(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var c=e.apply(n,r);function i(e){w(c,t,o,i,u,"next",e)}function u(e){w(c,t,o,i,u,"throw",e)}i(void 0)}))}}function B(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=function(){var e=b(),n=e.isLose,r=e.count,t=e.reminderBlockIndexes,c=e.currentBlockIndexes,i=m(),s=i.doAsyncUpdateIsLose,a=i.doAsyncUpdateCurrentBlock,f=i.doAsyncUpdateReminderBlock,d=i.doAsyncClearTetris,p=o.useMemo((function(){return(0,u.e)({currentArray:t,targetArray:c})}),[t,c]),v=A(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=k[Math.floor(Math.random()*k.length)])){e.next=4;break}return e.next=4,a(B(n));case 4:case"end":return e.stop()}}),e)}))),x=A(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(!0);case 2:return e.next=4,d();case 4:case"end":return e.stop()}}),e)}))),y=function(){f(c),c.find((function(e){return e<80}))?s(!1):v()};return{isLose:n,count:r,reminderBlockIndexes:t,currentBlockIndexes:c,activeBlockIndexes:p,doAsyncUpdateIsLose:s,doAsyncUpdateCurrentBlock:a,doAsyncUpdateReminderBlock:f,doAsyncClearTetris:d,doAsyncUpdateCurrentBlockByRandom:v,initTetris:x,dropdownCurrentBlock:function(){n||0!==c.length&&(t.find((function(e){return e<80}))?s(!1):c.find((function(e){return t.find((function(n){return e+20==n}))}))||c.find((function(e){return e+20>r}))?y():a(c.map((function(e){return e+20}))))}}},j=function(){var e=g(),n=(e.isLose,e.count),r=e.activeBlockIndexes,c=e.dropdownCurrentBlock,i=e.doAsyncUpdateCurrentBlockByRandom;return o.useEffect((function(){i()}),[]),o.useEffect((function(){c()}),[c]),(0,t.jsx)("div",{className:"pt-[64px]",children:(0,t.jsxs)("div",{className:"relative flex mt-4",children:[(0,t.jsx)("div",{className:"absolute inset top-[64px] bottom-0 left-0 right-0 border-x border-b border-[cyan]"}),(0,t.jsx)(s,{count:n,activeBlockIndexes:r})]})})},I=r(1242);function O(e,n,r,t,o,c,i){try{var u=e[c](i),s=u.value}catch(a){return void r(a)}u.done?n(s):Promise.resolve(s).then(t,o)}var N=function(){var e=g(),n=e.isLose,r=e.initTetris;e.doAsyncUpdateCurrentBlockByRandom;if(!n)return(0,t.jsx)("div",{children:"AAA"});var o,c=(o=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var c=o.apply(e,n);function i(e){O(c,r,t,i,u,"next",e)}function u(e){O(c,r,t,i,u,"throw",e)}i(void 0)}))});return(0,t.jsx)(I.Z,{onClick:function(){return c()},children:"You Lose, Clear Tetris"})},C=function(){return(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col w-[300px]",children:[(0,t.jsx)("div",{className:"text-white",children:"Tetris"}),(0,t.jsx)(N,{}),(0,t.jsx)(j,{})]})})}}},function(e){e.O(0,[774,888,179],(function(){return n=4768,e(e.s=n);var n}));var n=e.O();_N_E=n}]);